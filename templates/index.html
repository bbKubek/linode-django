{% extends 'base.html' %}

{% block title %}Website | Home{% endblock %}

{% block main %}

<div class="position-absolute top-50 start-50 translate-middle d-flex align-items-center justify-content-center flex-column" style="z-index: -5; width: 90%;">
  <h1>Main Page</h1>
  {% if user.is_authenticated %}
  <h2>Logged in as: {{user.username}}</h2>
  {% endif %}
  {% if user.username == "bbkubek" %}
  <div class="accordion w-100" id="accordionPanelsStayOpenExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingOne">
        <button class="accordion-button " type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false" aria-controls="panelsStayOpen-collapseOne">
          Users - {{users.count}}
        </button>
      </h2>
      <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
        <div class="accordion-body">
          {% for user in users %}
          <p>{{user}}</p>
          {% endfor %}
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
          Slider images - {{images.count}}
        </button>
      </h2>
      <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
        <div class="accordion-body">
          {% for image in images %}
          <a href="{{image.img_src.url}}"><img src="{{image.img_src.url}}" style="width: 15vw;margin-bottom: 5px"></a>
          {% endfor %}
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="panelsStayOpen-headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
          Polls - {{polls.count}}
        </button>
      </h2>
      <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
        <div class="accordion-body">
          {% for poll in polls %}
            <p>{{forloop.counter}} Q: {{poll.question}} | A: {{poll.option_one}}, {{poll.option_two}} | O: {{poll.user}}</p>
          {% endfor %}
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="panelsStayOpen-headingThree">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false" aria-controls="panelsStayOpen-collapseFour">
            ToDoLists - {{todoLists.count}}
          </button>
        </h2>
        <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFour">
          <div class="accordion-body">
            {% for todoList in todoLists %}
            <p>{{forloop.counter}} T: {{todoList.title}} | O: {{todoList.user}}</p>
            {% endfor %}
          </div>
        </div>
    </div>
  </div>
  {% endif %}
</div>
<blockquote class="blockquote mb-0 position-absolute bottom-0 p-2 opacity-50" style="z-index: -1;">
  <footer class="blockquote-footer" ><cite title="Source Title">Created by </cite>Jakub OÅ‚dziejewski</footer>
</blockquote>
{% endblock %}